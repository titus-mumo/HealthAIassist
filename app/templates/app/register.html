{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/brands.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css"
      integrity="sha384-QYIZto+st3yW+o8+5OHfT6S482Zsvz2WfOzpFSXMF9zqeLcFV0/wlZpMtyFcZALm"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;1,300&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <title>MediAssist+</title>
    <style>
      .form-group{
        margin-top:3px;
        margin-bottom:3px;
        padding-top:0px;
        padding-bottom:0px;
      }
    </style>
  </head>
  <body>
    <div
      class="container"
      style="
        margin-right: 0px;
        margin-left: 0px;
        width: 100%;
        padding-bottom: 0px;
      "
    >
      <div>
        <nav
          class="navbar navbar-expand-lg navbar-light bg-dark"
          style="
            height: 80px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10000;
          "
        >
          <div class="container-fluid d-flex flex-row" style="margin: 0">
            <h1 style="color: white; font-family: Playfair Display, serif">
              HealthAIassist
            </h1>
          </div>
        </nav>
      </div>

<div class="d-flex flex-row" style='margin-left:170px; margin-top: 80px;'>
  <div class="p-2">
    <img
      src="https://hips.hearstapps.com/hmg-prod/images/types-of-doctors-1600114658.jpg"
      class="rounded mx-auto d-block" 
      alt="Responsive image"
      style="width: 900px"
    />
  </div>
  <div class="p-2" style="margin-left: 20px;">
    <div style="width:350px;">
      <h1>HealthAIassist</h1>
      <form method="POST" action="{% url 'register' %}">
        {% csrf_token %} 
        <div class="form-group">
          {{ form.user_email | as_crispy_field }}
        </div>
        <div class="form-group">
          {{ form.first_name | as_crispy_field }}
        </div>
        <div class="form-group">
          {{ form.last_name | as_crispy_field }}
        </div>
        <div class="form-group">
          {{ form.contact | as_crispy_field }}
        </div>
        <div class="form-group">
          {{ form.password1 | as_crispy_field }}
        </div>
        <div class="form-group">
          {{ form.password2 | as_crispy_field }}
        </div>
        <button type="Submit" class="btn btn-success" style="width:50%">
          <i class="fas fa-database"></i> Sign Up
        </button>
      </form>
    </div>
    <div class="display-10" style="border: black; border-width:1px; border-style:solid; border-radius: 5px; box-shadow: 1px 2px #888888; margin-top: 30px;">
      <p class="text-center" style="margin: 15px;">Have an account?<a href="{% url 'login' %}">Log in</a></p>
    </div>
  </div>
</div>

<script>
  function validateForm(event) {
    var form = document.getElementById("login-form");
    var inputs = form.querySelectorAll("input[required]");

    for (var i = 0; i < inputs.length; i++) {
      if (inputs[i].value.trim() === "") {
        event.preventDefault();
        alert("Please fill in all required fields.");
        return;
      }
    }

    // Add the CSRF token to the form data
    var csrfToken = document.getElementsByName("csrfmiddlewaretoken")[0].value;
    var csrfInput = document.createElement("input");
    csrfInput.setAttribute("type", "hidden");
    csrfInput.setAttribute("name", "csrfmiddlewaretoken");
    csrfInput.setAttribute("value", csrfToken);
    form.appendChild(csrfInput);
  }
</script>

  </body>
</html>
